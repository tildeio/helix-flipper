#[macro_use]
extern crate helix;

ruby! {
    class TextTransform {
        def flip(text: String) -> String {
            text.chars().rev().map(|char| {
                match char {
                    '!' => 'Â¡', '"' => 'â€ž', '&' => 'â…‹', '\'' => 'â€š', '(' => ')', ')' => '(', ',' => 'â€˜', '.' => 'Ë™',
                    '1' => 'Æ–', '2' => 'á„…', '3' => 'Æ', '4' => 'ã„£', '5' => 'Ï›', '6' => '9', '7' => 'ã„¥',
                    '9' => '6', ';' => 'Ø›', '<' => '>', '>' => '<', '?' => 'Â¿',
                    'A' => 'âˆ€', 'B' => 'ð’', 'C' => 'â†ƒ', 'D' => 'â—–', 'E' => 'ÆŽ', 'F' => 'â„²', 'G' => 'â…',
                    'J' => 'Å¿', 'K' => 'Êž', 'L' => 'â…‚', 'M' => 'W',
                    'P' => 'Ô€', 'Q' => 'ÎŒ', 'R' => 'á´š', 'T' => 'âŠ¥', 'U' => 'âˆ©', 'V' => 'á´§', 'W' => 'M',
                    'Y' => 'â…„', '[' => ']', ']' => '[', '^' => 'v', '_' => 'â€¾',
                    '`' => ',', 'a' => 'É', 'b' => 'q', 'c' => 'É”', 'd' => 'p', 'e' => 'Ç', 'f' => 'ÉŸ', 'g' => 'Æƒ',
                    'h' => 'É¥', 'i' => 'á´‰', 'j' => 'É¾', 'k' => 'Êž', 'm' => 'É¯', 'n' => 'u',
                    'p' => 'd', 'q' => 'b', 'r' => 'É¹', 't' => 'Ê‡', 'u' => 'n', 'v' => 'ÊŒ', 'w' => 'Ê',
                    'y' => 'ÊŽ', '{' => '}', '}' => '{',

                    // Flip back
                    'Â¡' => '!', 'â€ž' => '"', 'â…‹' => '&', 'â€š' => '\'', 'â€˜' => ',', 'Ë™' => '.',
                    'Æ–' => '1', 'á„…' => '2', 'Æ' => '3', 'ã„£' => '4', 'Ï›' => '5', 'ã„¥' => '7',
                    'Ø›' => ';', 'Â¿' => '?',
                    'âˆ€' => 'A', 'ð’' => 'B', 'â†ƒ' => 'C', 'â—–' => 'D', 'ÆŽ' => 'E', 'â„²' => 'F', 'â…' => 'G',
                    'Å¿' => 'J', 'â…‚' => 'L',
                    'Ô€' => 'P', 'ÎŒ' => 'Q', 'á´š' => 'R', 'âŠ¥' => 'T', 'âˆ©' => 'U', 'á´§' => 'V',
                    'â…„' => 'Y', 'â€¾' => '_',
                    'É' => 'a', 'É”' => 'c', 'Ç' => 'e', 'ÉŸ' => 'f', 'Æƒ' => 'g',
                    'É¥' => 'h', 'á´‰' => 'i', 'É¾' => 'j', 'Êž' => 'k', 'É¯' => 'm',
                    'É¹' => 'r', 'Ê‡' => 't', 'ÊŒ' => 'v', 'Ê' => 'w','ÊŽ' => 'y',

                    _ => char,
                }
            }).collect()
        }
    }
}
